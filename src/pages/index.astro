---
import LandingLayout from '@/layouts/LandingLayout.astro';
import { Hero } from '@/components/hero';
import Button from '@/components/ui/form/Button/Button.astro';
import Badge from '@/components/ui/data-display/Badge/Badge.astro';
import Icon from '@/components/ui/primitives/Icon/Icon.astro';
import { TerminalDemo } from '@/components/landing/TerminalDemo';
import Stats from '@/components/landing/Stats.astro';
import TechStack from '@/components/landing/TechStack.astro';
import Features from '@/components/landing/Features.astro';
import CodeShowcase from '@/components/landing/CodeShowcase.astro';
import GettingStarted from '@/components/landing/GettingStarted.astro';
---

<LandingLayout
  title="The Modern Rust Operating System"
  description="A hobbyist x86-64 bare-metal operating system kernel written in Rust. Memory safe, high performance, and fully featured with networking, async concurrency, and more."
>
  <main class="flex flex-col items-center">
    {/* Hero Section with Terminal Demo */}
    <Hero layout="split" size="xl" showGrid showBlob>
      <div slot="badge" class="animate-fade-in-up delay-0">
        <Badge variant="brand" pill pulse>
          v0.1.0-alpha Public Release
        </Badge>
      </div>

      <h1 slot="title" class="animate-fade-in-up delay-1">
        RUSTRIAL <span class="text-brand-500">OS</span>
      </h1>

      <p slot="description" class="animate-fade-in-up delay-2">
        A strictly hobbyist x86-64 bare-metal operating system kernel written in Rust.<br />
        <span class="text-brand-500 font-bold">Code Safe. Run Fast.</span>
      </p>

      <Fragment slot="actions">
        <div class="animate-fade-in-up delay-3">
          <Button size="lg" href="#download">
            <Icon name="download" size="sm" />
            Get Started
          </Button>
        </div>
        <div class="animate-fade-in-up delay-4">
          <Button
            size="lg"
            variant="outline"
            href="https://github.com/lazzerex/rustrial-os"
            target="_blank"
          >
            <Icon name="github" size="sm" />
            View on GitHub
          </Button>
        </div>
      </Fragment>

      {/* Interactive Terminal Demo */}
      <div slot="aside" class="animate-slide-in-right animation-delay-400">
        <TerminalDemo client:load />
      </div>
    </Hero>

    {/* Stats Section */}
    <Stats />

    {/* Marquee Banner */}
    <div class="w-full bg-brand-900/10 border-y border-brand-900/20 overflow-hidden py-8 md:py-12 relative">
      <div class="flex whitespace-nowrap overflow-hidden">
        <div class="animate-marquee flex gap-8 md:gap-12 pr-8 md:pr-12 text-brand-500/90 font-black font-mono tracking-widest uppercase text-2xl md:text-4xl">
          <span>Memory Safety</span>
          <span class="text-foreground/20">/</span>
          <span>Bare Metal</span>
          <span class="text-foreground/20">/</span>
          <span>Async Await</span>
          <span class="text-foreground/20">/</span>
          <span>Custom Bootloader</span>
          <span class="text-foreground/20">/</span>
          <span>Networking</span>
          <span class="text-foreground/20">/</span>
          <span>No STD</span>
          <span class="text-foreground/20">/</span>
          <span>x86_64</span>
          <span class="text-foreground/20">/</span>
          <span>POSIX Compliant</span>
          <span class="text-foreground/20">/</span>
        </div>
        <div class="animate-marquee flex gap-8 md:gap-12 pr-8 md:pr-12 text-brand-500/90 font-black font-mono tracking-widest uppercase text-2xl md:text-4xl" aria-hidden="true">
          <span>Memory Safety</span>
          <span class="text-foreground/20">/</span>
          <span>Bare Metal</span>
          <span class="text-foreground/20">/</span>
          <span>Async Await</span>
          <span class="text-foreground/20">/</span>
          <span>Custom Bootloader</span>
          <span class="text-foreground/20">/</span>
          <span>Networking</span>
          <span class="text-foreground/20">/</span>
          <span>No STD</span>
          <span class="text-foreground/20">/</span>
          <span>x86_64</span>
          <span class="text-foreground/20">/</span>
          <span>POSIX Compliant</span>
          <span class="text-foreground/20">/</span>
        </div>
      </div>
    </div>

    {/* Tech Stack */}
    <TechStack />

    {/* Code Showcase */}
    <CodeShowcase />

    {/* About Section */}
    <section class="max-w-4xl px-4 sm:px-6 w-full py-[var(--space-section-md)] text-center bg-background-secondary">
      <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold mb-6 md:mb-8 scroll-fade-in-up">
        Why <span class="text-brand-500">Rustrial OS?</span>
      </h2>
      <p class="text-base sm:text-lg text-foreground-muted leading-relaxed mb-6 md:mb-8 scroll-fade-in-up delay-1">
        Rustrial OS is built from the ground up to demonstrate how modern language features can be applied to low-level systems programming. 
        By leveraging Rust's ownership model, we achieve memory safety without a garbage collector, ensuring predictable performance suitable for real-time applications.
      </p>
      <div class="h-px w-16 sm:w-24 bg-brand-500 mx-auto scroll-scale-in delay-2"></div>
    </section>

    {/* Features Grid */}
    <Features />

    {/* Getting Started */}
    <GettingStarted />
  </main>
</LandingLayout>
